<?xml version="1.0"?>

<!--in a block type 2nd section contain block -->
    <layout version="1.0">
         
        <supercheckout_index_index>
            <remove name="left"/>
            <remove name="right"/>
            <reference name="head">
                <action method="addItem" ifconfig="checkout/supercheckout/enabled">
                    <type>skin_css</type>
                    <name>css/supercheckout/supercheckout-light.css</name>
                </action>
                <action method="addItem" ifconfig="checkout/supercheckout/enabled">
                    <type>skin_css</type>
                    <name>css/supercheckout/notification/notification.min.css</name>
                </action>
                <action method="addJs"><script>supercheckout/notification/growl.js</script></action>
                <action method="addJs"><script>supercheckout/notification/growlDirective.js</script></action>
                <action method="addJs"><script>supercheckout/notification/growlFactory.js</script></action>
            </reference>
            <reference name="root">
                <action method="setTemplate">
                    <template>page/1column.phtml</template>
                </action>
            </reference>
            <reference name="content">
                <block type="supercheckout/supercheckoutfront" name="supercheckout" template="supercheckout/supercheckout.phtml" />
                
            </reference>
            <reference name="supercheckout">
                <block type="supercheckout/supercheckoutfront"  name="checkout.supercheckout.login" as="login" template="supercheckout/login.phtml"/>
                <block type="supercheckout/billship" name="checkout.supercheckout.paymentaddress" as="paymentaddress" template="supercheckout/payment_address.phtml"/>
                <block type="supercheckout/billship" name="checkout.supercheckout.shippingaddress" as="shippingaddress" template="supercheckout/shipping_address.phtml"/>
                <block type="supercheckout/shipping_method" name="checkout.onepage.shipping_method" as="shipping.method" template="supercheckout/shipping_method.phtml">
                    <block type="supercheckout/shipping_method" name="checkout.onepage.shipping_method.available" as="available" template="supercheckout/shipping_method/available.phtml"/>
                </block>
                <block type="supercheckout/payment_methods" name="checkout.onepage.payment" as="payment.method" template="supercheckout/payment_method.phtml">
                </block>
                <block type="supercheckout/payment_methods" name="checkout.onepage.confirm" as="payment.confirm" template="supercheckout/confirm.phtml">
                </block>
                <block type="supercheckout/supercheckoutfront" name="checkout.supercheckout.cart" as="cart" template="supercheckout/cart.phtml">
                    <block type="supercheckout/review_info" name="info" template="supercheckout/review/info.phtml">
                        <action method="addItemRender">
                            <type>default</type>
                            <block>supercheckout/cart_item_renderer</block>
                            <template>supercheckout/review/item.phtml</template>
                        </action>
                        <block type="core/text_list" name="checkout.onepage.review.info.items.before" as="items_before"/>
                    </block>
                    <block type="supercheckout/review_info" name="checkout.onepage.review.info.totals" as="totals" template="supercheckout/review/totals.phtml"/>
                </block>
            </reference>
        </supercheckout_index_index>
        
        
        
        
        <checkout_cart_index>    

        
            <reference name="checkout.cart.top_methods">
                <action method="unsetChild" ifconfig="checkout/supercheckout/enabled">
                    <name>checkout.cart.methods.onepage.top</name>
                </action>
                <action method="unsetChild" ifconfig="checkout/supercheckout/enabled">
                    <name>checkout.cart.methods.onepage</name>
                </action>
            </reference>
 
            <reference name="checkout.cart.methods">
                <action method="unsetChild" ifconfig="checkout/supercheckout/enabled">
                    <name>checkout.cart.methods.onepage.bottom</name>
                </action>
                <action method="unsetChild" ifconfig="checkout/supercheckout/enabled">
                    <name>checkout.cart.methods.onepage</name>
                </action>
            </reference>  
            <reference name="checkout.cart.top_methods">            
                <block ifconfig="checkout/supercheckout/enabled" type="supercheckout/checkoutbutton" name="checkout.cart.methods.fire" template="supercheckout/checkoutbutton.phtml"/>
            </reference>
 
            <reference name="checkout.cart.methods">
                <block ifconfig="checkout/supercheckout/enabled" type="supercheckout/checkoutbutton" name="checkout.cart.methods.fire" template="supercheckout/checkoutbutton.phtml"/>
            </reference>
        </checkout_cart_index>
        <supercheckout_index_success translate="label">
            <reference name="root">
                <action method="setTemplate">
                    <template>page/2columns-right.phtml</template>
                </action>
            </reference>
            <reference name="content">
                <block type="checkout/onepage_success" name="checkout.success" template="checkout/success.phtml"/>
            </reference>
        </supercheckout_index_success>
        <onepagecheckout_index_failure translate="label">
            <reference name="root">
                <action method="setTemplate">
                    <template>page/2columns-right.phtml</template>
                </action>
            </reference>
            <reference name="content">
                <block type="checkout/onepage_failure" name="checkout.failure" template="checkout/onepage/failure.phtml"/>
            </reference>
        </onepagecheckout_index_failure>
        <default>        
            <reference name="before_body_end">
                <block type="supercheckout/modalbox" name="supercheckout_modalbox" />
               <block type="page/html_head" name="supercheckoutfooter" as="supercheckoutfooter" template="shoppingcartpopup/modalbox.phtml"/>
    <!--            <block type="page/html_head" name="jsfooter" as="jsfooter" template="shoppingcartpopup/modalbox.phtml"/>
                <block type="shoppingcartpopup/modalbox" name="shoppingcartpopup_modalbox"/>-->
            </reference>   
            <reference name="head">
<!--                <action method="addItem" ifconfig="checkout/supercheckout/enabled">
                    <type>skin_css</type>
                    <name>css/supercheckout/supercheckout-light.css</name>
                </action>-->
                <action method="addJs"><script>supercheckout/angular.min.js</script></action>
                <action method="addJs"><script>supercheckout/angular-route.min.js</script></action>
                <action method="addJs"><script>supercheckout/angular-resource.min.js</script></action>
                <action method="addJs"><script>supercheckout/angular-animate.min.js</script></action>
                <action method="addJs"><script>supercheckout/angular-mocks.js</script></action>
                <action method="addJs"><script>supercheckout/ui-bootstrap-tpls-0.10.0.js</script></action>
                <!--<action method="addJs"><script>supercheckout/sanitize.js</script></action>-->
                <action method="addJs"><script>supercheckout/angular-sanitize.js</script></action>
                <action method="addJs"><script>supercheckout/autofill-directive.js</script></action>
                <action method="addJs"><script>supercheckout/notification/notification.js</script></action>
            </reference>     
        </default>
    </layout>